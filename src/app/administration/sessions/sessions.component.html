<div class="container-fluid bg-light">
    <div class="text-center pt-5">
        <h2>Sesiones ({{sessions?.length}}) ({{countDevices}} conectados) </h2>
        <p>
            <!-- <span href="#" class="btn btn-sm btn-outline-dark rounded-full" (click)="openModal(modalNew)">Crear Personal</span> -->
        </p>
    </div>
    <div class="card ">
        <div class="card-body " style="overflow-y: scroll;">
            <!-- Start Form -->
            <div class="input-group mb-3">
                <input type="text" class="form-control form-control-sn" [(ngModel)]="keyword" (input)="filtrar()" placeholder="Buscar" aria-label="" aria-describedby="basic-addon1">
            </div>
            <form id="bookingForm" action="#" method="" class="   needs-validation" novalidate autocomplete="off" style="height:840px;">
                <table class="table table-sm table-bordered table-striped ">
                    <thead>
                        <tr>
                            <td scope="col">Session</td>
                            <td scope="col">Personal</td>
                            <td scope="col">Dispositivo</td>
                            <td scope="col">Configuracion</td>
                            <td scope="col">Estados</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let session of sessionsFiltred;index as i" class="fw-light">
                            <td>
                                <table class="table table-sm">
                                    <tr><th>ID</th><td>{{session.id }}</td></tr>
                                    <tr><th>Login</th><td>{{session.login_date | date:'dd/MM/yyyy HH:mm:ss' }}</td></tr>
                                    <tr><th>LatLng</th><td>{{session.start_lat }},{{session.start_lon }} </td></tr>
                                </table>
                            </td>
                            <td>
                                <table class="table table-sm">
                                    <tr>
                                        <th>Nombre</th>
                                        <td>{{session.personal.name}}</td>
                                    </tr>
                                    <tr>
                                        <th>Horario</th>
                                        <td>{{session.personal.schedule_id}}</td>
                                    </tr>
                                    <tr>
                                        <th>Tipo</th>
                                        <td>{{session.personal.personal_type_id}}</td>
                                    </tr>
                                </table>
                            </td>
                            <td>
                                <table class="table table-sm">
                                    <tr>
                                        <th>ID</th>
                                        <td>{{session.device.id}}</td>
                                    </tr>
                                    <tr>
                                        <th>Fabricante</th>
                                        <td>{{session.device.info_brand}}</td>
                                    </tr>
                                    <tr>
                                        <th>Modelo</th>
                                        <td>{{session.device.info_model}}</td>
                                    </tr>
                                </table>
                            </td>
                            
                            <td>
                                <table class="littleTable" *ngIf="session.devicews">
                                    <tr *ngFor="let key of keys(session.devicews.config)">                                        
                                        <th>{{key}}</th>
                                        <td>{{session.devicews.config[key] }}</td>       
                                        <ng-template>
                                            
                                        </ng-template>                                 
                                    </tr>
                                </table>
                            </td>
                            <td>
                                <table class="littleTable" *ngIf="session.devicews">
                                    <tr *ngFor="let key of keys(session.devicews.states)">                                        
                                        <th>{{key}}</th>
                                        <td>{{session.devicews.states[key] }}</td>       
                                        <ng-template>
                                            
                                        </ng-template>                                 
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>

        </div>
    </div>